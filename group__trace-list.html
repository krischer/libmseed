<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libmseed: Trace List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libmseed
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">The miniSEED data format library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Trace List</div>  </div>
</div><!--header-->
<div class="contents">

<p>A container for continuous data.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:struct_m_s3_trace_seg"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a></td></tr>
<tr class="memdesc:struct_m_s3_trace_seg"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for a continuous trace segment, linkable.  <a href="group__trace-list.html#struct_m_s3_trace_seg">More...</a><br /></td></tr>
<tr class="separator:struct_m_s3_trace_seg"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_m_s3_trace_i_d"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d">MS3TraceID</a></td></tr>
<tr class="memdesc:struct_m_s3_trace_i_d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for a trace ID, linkable.  <a href="group__trace-list.html#struct_m_s3_trace_i_d">More...</a><br /></td></tr>
<tr class="separator:struct_m_s3_trace_i_d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_m_s3_trace_list"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a></td></tr>
<tr class="memdesc:struct_m_s3_trace_list"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for a collection of continuous trace segment, linkable.  <a href="group__trace-list.html#struct_m_s3_trace_list">More...</a><br /></td></tr>
<tr class="separator:struct_m_s3_trace_list"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga45e73d09fd22076373540407d45d1f6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga45e73d09fd22076373540407d45d1f6a">mstl3_init</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl)</td></tr>
<tr class="memdesc:ga45e73d09fd22076373540407d45d1f6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> container.  <a href="#ga45e73d09fd22076373540407d45d1f6a">More...</a><br /></td></tr>
<tr class="separator:ga45e73d09fd22076373540407d45d1f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a436ab4eb7cd653e52e6760c2f51f20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga2a436ab4eb7cd653e52e6760c2f51f20">mstl3_free</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> **ppmstl, int8_t freeprvtptr)</td></tr>
<tr class="memdesc:ga2a436ab4eb7cd653e52e6760c2f51f20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free all memory associated with a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="#ga2a436ab4eb7cd653e52e6760c2f51f20">More...</a><br /></td></tr>
<tr class="separator:ga2a436ab4eb7cd653e52e6760c2f51f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56645935fb8e8c8992043a2ac3dc1f98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga56645935fb8e8c8992043a2ac3dc1f98">mstl3_addmsr</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl, <a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr, int8_t splitversion, int8_t autoheal, double timetol, double sampratetol)</td></tr>
<tr class="memdesc:ga56645935fb8e8c8992043a2ac3dc1f98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add data coverage from an <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="#ga56645935fb8e8c8992043a2ac3dc1f98">More...</a><br /></td></tr>
<tr class="separator:ga56645935fb8e8c8992043a2ac3dc1f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga592d4a0909d6961f745098a556635b8f"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga592d4a0909d6961f745098a556635b8f">mstl3_readbuffer</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> **ppmstl, char *buffer, uint64_t bufferlength, double timetol, double sampratetol, int8_t splitversion, uint32_t flags, int8_t verbose)</td></tr>
<tr class="memdesc:ga592d4a0909d6961f745098a556635b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse miniSEED from a buffer and populate a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="#ga592d4a0909d6961f745098a556635b8f">More...</a><br /></td></tr>
<tr class="separator:ga592d4a0909d6961f745098a556635b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1cbcdce4bf2acd1c9f536efed1b0b66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#gac1cbcdce4bf2acd1c9f536efed1b0b66">mstl3_convertsamples</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *seg, char type, int8_t truncate)</td></tr>
<tr class="memdesc:gac1cbcdce4bf2acd1c9f536efed1b0b66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the data samples associated with an <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> to another data type.  <a href="#gac1cbcdce4bf2acd1c9f536efed1b0b66">More...</a><br /></td></tr>
<tr class="separator:gac1cbcdce4bf2acd1c9f536efed1b0b66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80474d2fd69cf377305226dc9ba05b65"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga80474d2fd69cf377305226dc9ba05b65">mstl3_pack</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl, void(*record_handler)(char *, int, void *), void *handlerdata, int reclen, int8_t encoding, int64_t *packedsamples, uint32_t flags, int8_t verbose, char *extra)</td></tr>
<tr class="memdesc:ga80474d2fd69cf377305226dc9ba05b65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> data into miniSEED records.  <a href="#ga80474d2fd69cf377305226dc9ba05b65">More...</a><br /></td></tr>
<tr class="separator:ga80474d2fd69cf377305226dc9ba05b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6999931a86547276deb85b36145ccd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#gad6999931a86547276deb85b36145ccd6">mstl3_printtracelist</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl, <a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a> timeformat, int8_t details, int8_t gaps)</td></tr>
<tr class="memdesc:gad6999931a86547276deb85b36145ccd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print trace list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="#gad6999931a86547276deb85b36145ccd6">More...</a><br /></td></tr>
<tr class="separator:gad6999931a86547276deb85b36145ccd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga902e150fe0f1a1d0fc140469507a82ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga902e150fe0f1a1d0fc140469507a82ce">mstl3_printsynclist</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl, char *dccid, <a class="el" href="group__time-related.html#ga5808cba8b50fd42fe1c98c02b579ce90">ms_subseconds_t</a> subseconds)</td></tr>
<tr class="memdesc:ga902e150fe0f1a1d0fc140469507a82ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print SYNC trace list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="#ga902e150fe0f1a1d0fc140469507a82ce">More...</a><br /></td></tr>
<tr class="separator:ga902e150fe0f1a1d0fc140469507a82ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga280fc1708baa319bcd89f691968ce3ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga280fc1708baa319bcd89f691968ce3ef">mstl3_printgaplist</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl, <a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a> timeformat, double *mingap, double *maxgap)</td></tr>
<tr class="memdesc:ga280fc1708baa319bcd89f691968ce3ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print gap/overlap list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="#ga280fc1708baa319bcd89f691968ce3ef">More...</a><br /></td></tr>
<tr class="separator:ga280fc1708baa319bcd89f691968ce3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A container for continuous data. </p>
<p>Trace lists are a container to organize continuous segments of data. By combining miniSEED data records into trace lists, the time series is reconstructed and ready for processing or summarization.</p>
<p>A trace list container starts with an <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>, which contains one or more <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> entries, which each contain one or more <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> entries. The <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> and <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> entries are traversed as a simple linked list.</p>
<p>The overall structure is illustrated as:</p><ul>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a><ul>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a><ul>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a></li>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a></li>
<li>...</li>
</ul>
</li>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a><ul>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a></li>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a></li>
<li>...</li>
</ul>
</li>
<li>...</li>
</ul>
</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__io-functions.html#ga51d087ffee08118ac1b7686a366e75c0" title="Read miniSEED from a file into a trace list.">ms3_readtracelist()</a> </dd>
<dd>
<a class="el" href="group__io-functions.html#ga0633ce3ce3a3eaa2de9540d70410d927" title="Read miniSEED from a file into a trace list, with time range selection.">ms3_readtracelist_timewin()</a> </dd>
<dd>
<a class="el" href="group__io-functions.html#gae0cba40ee8021bcb8bcd3b35042f7b02" title="Read miniSEED from a file into a trace list, with selection filtering.">ms3_readtracelist_selection()</a> </dd>
<dd>
<a class="el" href="group__io-functions.html#ga8e36406b0b684fb9efec940065b71ee4" title="Write miniSEED from an MS3TraceList container to a file.">mstl3_writemseed()</a> </dd></dl>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct_m_s3_trace_seg" id="struct_m_s3_trace_seg"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_m_s3_trace_seg">&#9670;&nbsp;</a></span>MS3TraceSeg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct MS3TraceSeg</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Container for a continuous trace segment, linkable. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="afa4b2623a8ffb336a9d9d9a9773c0dc0"></a><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a></td>
<td class="fieldname">
starttime</td>
<td class="fielddoc">
Time of first sample. </td></tr>
<tr><td class="fieldtype">
<a id="a2c33217da025db4c975c4013629d53eb"></a><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a></td>
<td class="fieldname">
endtime</td>
<td class="fielddoc">
Time of last sample. </td></tr>
<tr><td class="fieldtype">
<a id="acb10e4263b0aeaab66232c35d8c7d5ac"></a>double</td>
<td class="fieldname">
samprate</td>
<td class="fielddoc">
Nominal sample rate (Hz) </td></tr>
<tr><td class="fieldtype">
<a id="aa7c0b61595ae856dbf409db56cc74bcc"></a>int64_t</td>
<td class="fieldname">
samplecnt</td>
<td class="fielddoc">
Number of samples in trace coverage. </td></tr>
<tr><td class="fieldtype">
<a id="a91240518702ddde33ea492251c4ad1ad"></a>void *</td>
<td class="fieldname">
datasamples</td>
<td class="fielddoc">
Data samples, <em>numsamples</em> of type <em>sampletype</em>. </td></tr>
<tr><td class="fieldtype">
<a id="a04a949bf1a75ed3008e22243922fe53c"></a>int64_t</td>
<td class="fieldname">
numsamples</td>
<td class="fielddoc">
Number of data samples in datasamples. </td></tr>
<tr><td class="fieldtype">
<a id="a9addbbe3f6cbb7f742b8def029cde74e"></a>char</td>
<td class="fieldname">
sampletype</td>
<td class="fielddoc">
Sample type code, see <a class="el" href="sample-types.html">Sample Types</a>. </td></tr>
<tr><td class="fieldtype">
<a id="a4b0c9a4002389c65dc2a5b8f0a549441"></a>void *</td>
<td class="fieldname">
prvtptr</td>
<td class="fielddoc">
Private pointer for general use, unused by library. </td></tr>
<tr><td class="fieldtype">
<a id="aa48053acc5c80c8f6b1e18f03d46f931"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *</td>
<td class="fieldname">
prev</td>
<td class="fielddoc">
Pointer to previous segment. </td></tr>
<tr><td class="fieldtype">
<a id="ad5acfe831d046c60102414e333cb46a3"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *</td>
<td class="fieldname">
next</td>
<td class="fielddoc">
Pointer to next segment, NULL if the last. </td></tr>
</table>

</div>
</div>
<a name="struct_m_s3_trace_i_d" id="struct_m_s3_trace_i_d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_m_s3_trace_i_d">&#9670;&nbsp;</a></span>MS3TraceID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct MS3TraceID</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Container for a trace ID, linkable. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="aaa4e9d9d9fb4c2bf4f93472500744c52"></a>char</td>
<td class="fieldname">
sid[<a class="el" href="libmseed_8h.html#a35732636583abd22ed0307c5d2576493">LM_SIDLEN</a>]</td>
<td class="fielddoc">
Source identifier as URN, max length <a class="el" href="libmseed_8h.html#a35732636583abd22ed0307c5d2576493">LM_SIDLEN</a>. </td></tr>
<tr><td class="fieldtype">
<a id="a49a7a751c8f59f769ec3b6e29e8aacfd"></a>uint8_t</td>
<td class="fieldname">
pubversion</td>
<td class="fielddoc">
Publication version. </td></tr>
<tr><td class="fieldtype">
<a id="a537e76409176bd8fca77a71e73b825fb"></a><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a></td>
<td class="fieldname">
earliest</td>
<td class="fielddoc">
Time of earliest sample. </td></tr>
<tr><td class="fieldtype">
<a id="a3464b9217cd83f1c8a1527ac2384ff63"></a><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a></td>
<td class="fieldname">
latest</td>
<td class="fielddoc">
Time of latest sample. </td></tr>
<tr><td class="fieldtype">
<a id="a706e13d72ad8638eaa7b9d81d4529ac3"></a>void *</td>
<td class="fieldname">
prvtptr</td>
<td class="fielddoc">
Private pointer for general use, unused by library. </td></tr>
<tr><td class="fieldtype">
<a id="afdbdeb4baba7b1b2bbdb92738344b70c"></a>uint32_t</td>
<td class="fieldname">
numsegments</td>
<td class="fielddoc">
Number of segments for this ID. </td></tr>
<tr><td class="fieldtype">
<a id="a2c57e9aa2e2b922b57df9ea8031aebde"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *</td>
<td class="fieldname">
first</td>
<td class="fielddoc">
Pointer to first of list of segments. </td></tr>
<tr><td class="fieldtype">
<a id="ab51385237a38668bbe47adb79379ab97"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *</td>
<td class="fieldname">
last</td>
<td class="fielddoc">
Pointer to last of list of segments. </td></tr>
<tr><td class="fieldtype">
<a id="a7010e1a21bb73ccf12c5bbd783bfc9da"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d">MS3TraceID</a> *</td>
<td class="fieldname">
next</td>
<td class="fielddoc">
Pointer to next trace ID, NULL if the last. </td></tr>
</table>

</div>
</div>
<a name="struct_m_s3_trace_list" id="struct_m_s3_trace_list"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_m_s3_trace_list">&#9670;&nbsp;</a></span>MS3TraceList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct MS3TraceList</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Container for a collection of continuous trace segment, linkable. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ae5bbab6e61505b30fa1fdf0b55061681"></a>uint32_t</td>
<td class="fieldname">
numtraces</td>
<td class="fielddoc">
Number of traces in list. </td></tr>
<tr><td class="fieldtype">
<a id="a4dddb7dd95226889820e4e8046c8bcb8"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d">MS3TraceID</a> *</td>
<td class="fieldname">
traces</td>
<td class="fielddoc">
Pointer to list of traces. </td></tr>
<tr><td class="fieldtype">
<a id="a5cc9542bbcbca998dcf04fc18b52c895"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d">MS3TraceID</a> *</td>
<td class="fieldname">
last</td>
<td class="fielddoc">
Pointer to last modified trace in list. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga45e73d09fd22076373540407d45d1f6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45e73d09fd22076373540407d45d1f6a">&#9670;&nbsp;</a></span>mstl3_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a>* mstl3_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> container. </p>
<p>A new <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> is allocated if needed. If the supplied <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> is not NULL it will be re-initialized and any associated memory will be freed including data at <em>prvtptr</em> pointers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to reinitialize or NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> struct on success or NULL on error. </dd></dl>

</div>
</div>
<a id="ga2a436ab4eb7cd653e52e6760c2f51f20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a436ab4eb7cd653e52e6760c2f51f20">&#9670;&nbsp;</a></span>mstl3_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mstl3_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> **&#160;</td>
          <td class="paramname"><em>ppmstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>freeprvtptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free all memory associated with a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p>The pointer to the target <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> will be set to NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ppmstl</td><td>Pointer-to-pointer to the target <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to free </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">freeprvtptr</td><td>If true, also free any data at the <em>prvtptr</em> members of <a class="el" href="group__trace-list.html#a706e13d72ad8638eaa7b9d81d4529ac3" title="Private pointer for general use, unused by library.">MS3TraceID.prvtptr</a> and <a class="el" href="group__trace-list.html#a4b0c9a4002389c65dc2a5b8f0a549441" title="Private pointer for general use, unused by library.">MS3TraceSeg.prvtptr</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga56645935fb8e8c8992043a2ac3dc1f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56645935fb8e8c8992043a2ac3dc1f98">&#9670;&nbsp;</a></span>mstl3_addmsr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a>* mstl3_addmsr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>splitversion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>autoheal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timetol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sampratetol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add data coverage from an <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p>Searching the list for the appropriate <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> and <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> and either add data to existing entries or create new ones as needed.</p>
<p>As this routine adds data to a trace list it attempts to construct continuous time series, merging segments when possible. The <em>timetol</em> and <em>sampratetol</em> values define the tolerances used when merging time series. If <em>timetol</em> is ‐1.0 the default time tolerance of 1/2 the sample period will be used. If sampratetol is ‐1.0 the default tolerance of abs(1‐sr1/sr2) &lt; 0.0001 is used. If sampratetol or timetol is ‐2.0 the respective tolerance check will not be performed. If time tolerance is not checked the data will be merged with a segment that fits best.</p>
<p>If the <em>splitversion</em> flag is true the publication versions will be kept separate, i.e. they must be the same to be merged. Otherwise, different versions of otherwise matching traces are merged. If more than one version contributes to a given source identifer's segments, its publication version will be the set to the largest contributing version.</p>
<p>If the <em>autoheal</em> flag is true extra processing is invoked to conjoin trace segments that fit together after the <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> coverage is added. For segments that are removed, any memory at the prvtptr will be freed.</p>
<p>The lists are always maintained in a sorted order. An <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> is always maintained with the <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> entries in descending alphanumeric order. An <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> is always maintained with <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> entries in data time time order.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td>Destination <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to add data to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> containing the data to add to list </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">splitversion</td><td>Flag to control splitting of version/quality </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">autoheal</td><td>Flag to control automatic merging of segments </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timetol</td><td>Time tolerance in seconds for merging time series </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sampratetol</td><td>Sample rate tolerance in samples per second</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> updated or NULL on error. </dd></dl>

</div>
</div>
<a id="ga592d4a0909d6961f745098a556635b8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga592d4a0909d6961f745098a556635b8f">&#9670;&nbsp;</a></span>mstl3_readbuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t mstl3_readbuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> **&#160;</td>
          <td class="paramname"><em>ppmstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>bufferlength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timetol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sampratetol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>splitversion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse miniSEED from a buffer and populate a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p>For a full description of <em>timetol</em> and <em>sampratetol</em> see <a class="el" href="group__trace-list.html#ga56645935fb8e8c8992043a2ac3dc1f98" title="Add data coverage from an MS3Record to a MS3TraceList.">mstl3_addmsr()</a>.</p>
<p>If the <a class="el" href="group__control-flags.html#ga95033e92e20f803ae8e3daebca1a2b5b" title="[Parsing] unpack data samples">MSF_UNPACKDATA</a> flag is set in <em>flags</em>, the data samples will be unpacked. In most cases the caller probably wants this flag set, without it the trace list will merely be a list of channels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ppmstl</td><td>Pointer-to-point to destination <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Source buffer to read miniSEED records from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferlength</td><td>Maximum length of <em>buffer</em> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timetol</td><td>Time tolerance in seconds for merging time series </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sampratetol</td><td>Sample rate tolerance in samples per second </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">splitversion</td><td>Flag to control splitting of version/quality </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flag to control pasing of miniSEED, see <a class="el" href="group__miniseed-record.html#ga685b3796656bcf24c2f417c94d3631f6" title="Parse miniSEED from a buffer.">msr3_parse()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Controls verbosity, 0 means no diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of records parsed on success, otherwise a negative library error code. </dd></dl>

</div>
</div>
<a id="gac1cbcdce4bf2acd1c9f536efed1b0b66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1cbcdce4bf2acd1c9f536efed1b0b66">&#9670;&nbsp;</a></span>mstl3_convertsamples()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mstl3_convertsamples </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *&#160;</td>
          <td class="paramname"><em>seg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>truncate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the data samples associated with an <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> to another data type. </p>
<p>ASCII data samples cannot be converted, if supplied or requested an error will be returned.</p>
<p>When converting float &amp; double sample types to integer type a simple rounding is applied by adding 0.5 to the sample value before converting (truncating) to integer. This compensates for common machine representations of floating point values, e.g. "40.0" represented by "39.99999999".</p>
<p>If the <em>truncate</em> flag is true (non-zero) data samples will be truncated to integers even if loss of sample precision is detected. If the truncate flag is false (zero) and loss of precision is detected an error is returned. Loss of precision is determined by testing that the difference between the floating point value and the (truncated) integer value is greater than 0.000001.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">seg</td><td>The target <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> to convert </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The desired data sample type: <ul>
<li><code>'i'</code> - 32-bit integer data type</li>
<li><code>'f'</code> - 32-bit float data type</li>
<li><code>'d'</code> - 64-bit float (double) data type </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">truncate</td><td>Control truncation of floating point values to integers</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, and -1 on failure. </dd></dl>

</div>
</div>
<a id="ga80474d2fd69cf377305226dc9ba05b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80474d2fd69cf377305226dc9ba05b65">&#9670;&nbsp;</a></span>mstl3_pack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mstl3_pack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *, int, void *)&#160;</td>
          <td class="paramname"><em>record_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handlerdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>encoding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>packedsamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>extra</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pack <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> data into miniSEED records. </p>
<p>The datasamples array and numsamples field will be adjusted (reduced) as data are packed.</p>
<p>As each record is filled and finished they are passed to <em>record_handler()</em> which should expect 1) a <code>char*</code> to the record, 2) the length of the record and 3) a pointer supplied by the original caller containing optional private data (<em>handlerdata</em>). It is the responsibility of <em>record_handler()</em> to process the record, the memory will be re-used or freed when <em>record_handler()</em> returns.</p>
<p>If <em>extra</em> is not NULL it is expected to contain extraheaders, a string containing (compact) JSON, that will be added to each output record.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> containing data to pack </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">record_handler()</td><td>Callback function called for each record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handlerdata</td><td>A pointer that will be provided to the <em>record_handler()</em> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reclen</td><td>Maximum record length to produce </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">encoding</td><td>Encoding for data samples, see <a class="el" href="group__miniseed-record.html#gaa649330804f08b4d4cef9c0b1d8f7867" title="Pack data into miniSEED records.">msr3_pack()</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">packedsamples</td><td>The number of samples packed, returned to caller </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flags used to control the packing process, see <a class="el" href="group__miniseed-record.html#gaa649330804f08b4d4cef9c0b1d8f7867" title="Pack data into miniSEED records.">msr3_pack()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Controls logging verbosity, 0 is no diagnostic output </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">extra</td><td>If not NULL, add this buffer of extra headers to all records</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of records created on success and -1 on error.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__miniseed-record.html#gaa649330804f08b4d4cef9c0b1d8f7867" title="Pack data into miniSEED records.">msr3_pack()</a> </dd></dl>

</div>
</div>
<a id="gad6999931a86547276deb85b36145ccd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6999931a86547276deb85b36145ccd6">&#9670;&nbsp;</a></span>mstl3_printtracelist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mstl3_printtracelist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a>&#160;</td>
          <td class="paramname"><em>timeformat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>gaps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print trace list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p>By default only print the source ID, starttime and endtime for each trace. If <em>details</em> is greater than 0 include the sample rate, number of samples and a total trace count. If <em>gaps</em> is greater than 0 and the previous trace matches (SID &amp; samprate) include the gap between the endtime of the last trace and the starttime of the current trace.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to print </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeformat</td><td>Time string format, one of <a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">details</td><td>Flag to control inclusion of more details </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gaps</td><td>Flag to control inclusion of gap/overlap between segments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga902e150fe0f1a1d0fc140469507a82ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga902e150fe0f1a1d0fc140469507a82ce">&#9670;&nbsp;</a></span>mstl3_printsynclist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mstl3_printsynclist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dccid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__time-related.html#ga5808cba8b50fd42fe1c98c02b579ce90">ms_subseconds_t</a>&#160;</td>
          <td class="paramname"><em>subseconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print SYNC trace list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p>The SYNC header line will be created using the supplied dccid, if the pointer is NULL the string "DCC" will be used instead.</p>
<p>If the <em>subsecond</em> flag is true the segment start and end times will include subsecond precision, otherwise they will be truncated to integer seconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to print </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dccid</td><td>The DCC identifier to include in the output </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subseconds</td><td>Inclusion of subseconds, one of <a class="el" href="group__time-related.html#ga5808cba8b50fd42fe1c98c02b579ce90">ms_subseconds_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga280fc1708baa319bcd89f691968ce3ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga280fc1708baa319bcd89f691968ce3ef">&#9670;&nbsp;</a></span>mstl3_printgaplist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mstl3_printgaplist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a>&#160;</td>
          <td class="paramname"><em>timeformat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mingap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>maxgap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print gap/overlap list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p>Overlaps are printed as negative gaps.</p>
<p>If <em>mingap</em> and <em>maxgap</em> are not NULL their values will be enforced and only gaps/overlaps matching their implied criteria will be printed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to print </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeformat</td><td>Time string format, one of <a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mingap</td><td>Minimum gap to print in seconds (pointer to value) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxgap</td><td>Maximum gap to print in seconds (pointer to value) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- GitHub corner from https://github.com/tholman/github-corners -->
<a href="https://github.com/iris-edu/libmseed" class="github-corner" aria-label="View source on GitHub"><svg width="75" height="75" viewBox="0 0 250 250" style="fill:#442487; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<a href="https://ds.iris.edu"><img style="position: absolute; top: 0; border: 0; right: 75px; height:75px;" src="https://www.iris.edu/hq/files/publications/logos/iris_color_screen.png"></a>
